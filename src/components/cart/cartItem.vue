<template>
    <div class="cart-item">
        <div class="left">
            <img :src="`https://api.elrady.co/images/${$store.getters['ui/mainGroup']}:${$store.getters['ui/subGroup']}:Default.jpg`" :alt="item.ItemName">
            <div class="info">
                <h3>{{item.ItemName}}</h3>
                <p class="price">{{item.Price | price}}</p>
            </div>
        </div>
            <div class="qnt">
                <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000" xml:space="preserve"><path d="M500 10C229.8 10 10 229.8 10 500s219.8 490 490 490 490-219.8 490-490S770.2 10 500 10zm0 918.8C263.6 928.8 71.3 736.4 71.3 500S263.6 71.3 500 71.3c236.4 0 428.8 192.3 428.8 428.8 0 236.3-192.4 428.7-428.8 428.7zm183.8-459.4H530.6V316.3c0-16.9-13.7-30.6-30.6-30.6-16.9 0-30.6 13.7-30.6 30.6v153.1H316.3c-16.9 0-30.6 13.7-30.6 30.6 0 16.9 13.7 30.6 30.6 30.6h153.1v153.1c0 16.9 13.7 30.6 30.6 30.6 16.9 0 30.6-13.7 30.6-30.6V530.6h153.1c16.9 0 30.6-13.7 30.6-30.6.1-16.9-13.6-30.6-30.5-30.6z"/></svg> -->
                <input disabled v-model="item.Qnt">
                <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000" xml:space="preserve"><path d="M447.58 12.73C283 31.33 134.93 136.16 61.03 286.32 34.3 340.57 19.1 392.46 12.81 450.64c-5.77 50.85-2.62 100.11 9.17 153.84 9.44 41.67 19.13 68.92 40.62 111.64 48.22 96.7 124.48 172.96 221.19 221.19 56.35 28.3 107.45 43.5 166.94 49.79 241.63 26.47 473.82-142.3 527.28-382.62 15.99-72.59 15.99-136.54 0-209.13-9.44-41.67-19.13-68.93-40.62-111.64-37.21-74.95-88.58-134.44-159.86-185.28-28.04-20.18-87.27-50.58-120.55-62.11-64.48-22.28-143.36-30.93-209.4-23.59zm127.1 55.82c93.56 17.03 172.44 57.39 235.86 121.08 103.52 104.03 147.55 253.94 117.68 402.01-6.55 32.23-23.59 79.41-40.36 112.17-77.05 149.9-236.39 241.1-407.52 232.72-112.95-5.24-212.8-48.74-290.64-126.05-64.73-64.75-105.35-144.94-122.38-242.43-5.24-29.35-4.46-113.21 1.05-143.35 17.56-93.56 57.92-171.92 121.08-235.34 71.28-71.02 159.08-112.17 268.62-125.53 18.08-2.1 96.17.78 116.61 4.72z"/><path d="M135.98 477.37c-17.56 9.7-17.03 37.48 1.05 45.6 5.24 2.36 92.51 3.14 363.23 3.14 303.48 0 357.46-.52 363.75-3.67 17.3-9.17 17.3-35.9 0-45.08-10.48-5.23-718.33-5.49-728.03.01z"/></svg>                 -->
            </div>
        <div class="right" @click.prevent="deleteItem(item)">
            <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 1000 1000" xml:space="preserve"><path d="M954.8 150.8H688.9V81.4c0-38.5-33.6-69.8-75.1-69.8H388.4c-41.6 0-75.2 31.3-75.2 69.8v69.4h-268C25.7 150.8 10 166.6 10 186s15.7 35.2 35.2 35.2h80.2v697.4c0 38.5 33.7 69.8 75.1 69.8h601.1c41.6 0 75.2-31.2 75.2-69.8V221.2h78c19.4 0 35.2-15.8 35.2-35.2s-15.7-35.2-35.2-35.2zM388.4 81.4h225.4v69.4H388.4V81.4zm413.2 837.2H200.5V221.2h601.1v697.4zM349.1 802.1c19.4 0 35.2-15.8 35.2-35.2v-407c0-19.4-15.8-35.2-35.2-35.2s-35.2 15.8-35.2 35.2v407c0 19.5 15.7 35.2 35.2 35.2zm150.9 0c19.5 0 35.2-15.8 35.2-35.2v-407c0-19.4-15.7-35.2-35.2-35.2-19.5 0-35.2 15.8-35.2 35.2v407c0 19.5 15.7 35.2 35.2 35.2zm150.6 0c19.5 0 35.2-15.8 35.2-35.2v-407c0-19.4-15.7-35.2-35.2-35.2-19.4 0-35.2 15.8-35.2 35.2v407c0 19.5 15.8 35.2 35.2 35.2z"/></svg>
            
        </div>
    </div>
</template>

<script lang="ts">
import CartRepo from "@/modules/cart/cart.repo";
import Vue from 'vue'
import {CartItem } from "@/modules/cart/cart.model";
import { snackBarModel } from '@/utils/snackbar.model';
    
    
let repo = new CartRepo();
export default Vue.extend({
    props:['item'],
    methods:{
        deleteItem(item:CartItem){
            repo.deleteItem(item.CartItemSerial).then(() => {
                this.$store.commit("ui/stopSnack")
                let snack :snackBarModel = {
                  Active: true,
                  Title: 'success',
                  Msg: 'removed from cart successfully'
                }
                this.$store.commit("ui/setSnack" , snack)
                this.$store.commit("cart/remove" , item)
            })

        },
    }
})
</script>

<style scoped src="@/assets/scss/cart/item.css">